schema @link(url: "https://specs.apollo.dev/federation/v2.8", import: ["@key","@shareable"]) {
  query: Query
  mutation: Mutation
}
directive @auth(
  requires: [Role!] = []
) on FIELD_DEFINITION | OBJECT
directive @public on FIELD_DEFINITION
directive @requiresRole(
  role: Role!
) on FIELD_DEFINITION

type Query {
  properties: [Property]
 
}

type Mutation {
  createProperty(title: String!, price: Int!): Property
   @auth(requires: [AGENT, ADMIN])
   deleteProperty(id: ID!): Boolean @requiresRole(role: ADMIN)
}

type Property @key(fields: "id") {
  id: ID!
  title: String!
  price: Int!
  createdBy: User!
}

type User @key(fields: "id") {
  id: ID!
  email: String!@shareable
  role: Role! @shareable
}

enum Role {
  ADMIN
  AGENT
  USER
}
